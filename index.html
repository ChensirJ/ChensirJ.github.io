<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Unknown Coder</title>
  <meta name="author" content="Chen Hao">
  
  <meta name="description" content="this.me = me">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Unknown Coder"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ccfe282db451b7397caad58660802061";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<meta name="generator" content="Hexo 5.3.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Unknown Coder</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header logo">
  <h1>Time to success<span class="blink-fast">∎</span></h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">


		<i class="fa fa-heart blink-slow"></i>

		Time To Success.

</div>    

		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/28/汇编语言程序设计（4）/" title="判断、循环及子程序">汇编语言程序设计（4）</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-28  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="汇编语言程序设计（4）"><a href="#汇编语言程序设计（4）" class="headerlink" title="汇编语言程序设计（4）"></a>汇编语言程序设计（4）</h1><h2 id="第三节-基础程序设计"><a href="#第三节-基础程序设计" class="headerlink" title="第三节 基础程序设计"></a>第三节 基础程序设计</h2><h4 id="3-程序3-判断！判断！"><a href="#3-程序3-判断！判断！" class="headerlink" title="3. 程序3 判断！判断！"></a>3. 程序3 判断！判断！</h4><p>上一个程序我们写了一个10以内数字的相加程序。不过你仔细测试的话，你会发现这个程序是有Bug的，当我们输入1和9的时候，相加的结果应该是10，但是显示的结果似乎不如我们预期的那样，这次我们通过解决这个程序Bug来了解一下分支程序设计。Bug如下图所示</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_1.png" alt="img"></p>
<p>我们思考一下这个Bug是如何出现的，当我们两个数的和大于9的时候，程序就出现了Bug，那么这个程序就出现了一个分支，如下图所示</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_2.png" alt="img"></p>
<p>前面的程序是差不多的，唯一需要改变的地方是在求和之后需要将两数的和和9进行比较</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_3.png" alt="img"></p>
<p>那么和大于9的话，我们该怎么处理呢？</p>
<p>10以内的加法运算，最大的结果为9+9 = 18，那么和大于9的话，十位上一定是1，我们可以先显示1。那个位怎么处理呢？如果输入是1（31H）和9（39H）的话，两数相加之后，和应该为10，个位应该为0，而现在和的ASCII码为6AH，减去30H之后，为3AH，而0的ASCII码为30H，所以我们减去30H之后应该再减去0AH，这样个位就为0了，通过DOS的2号功能显示出来。</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_4.png" alt="img"></p>
<p>运行一下程序，发现Bug解决了</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_5.png" alt="img"></p>
<h4 id="4-程序4-循环！循环！"><a href="#4-程序4-循环！循环！" class="headerlink" title="4. 程序4 循环！循环！"></a>4. 程序4 循环！循环！</h4><p>有了分支之后，我们还应该学习一下循环，同样是一个非常有用的程序设计结果，比如我们有这么一个烦恼：我想求一下10以内所有数的和（1+2+……+9）放入SUM变量中。这个程序该如何设计呢？汇编语言提供了非常方便的Loop指令进行循环结构。我们只要将循环次数放入CX寄存器，当CX不为0时，循环会一直执行，执行一次循环之后，CX的值会减1。</p>
<p>（1）数据段设定一个变量SUM存放最后的结果</p>
<p>（2）因为一共有9个数，所以循环9次，设置CX值为9，同时CX的值正好可以作为要加的数</p>
<p>（3）将和放入变量SUM</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_6.png" alt="img"></p>
<p>有了流程之后，同样的我们可以开始写代码了</p>
<p>首先再数据段定义变量SUM，由于我们不知道最后和为多少，所以先用一个？占用这个地址</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_7.png" alt="img"></p>
<p>然后便是代码段的编写</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_8.png" alt="img"></p>
<p>和上面流程图是一样的操作</p>
<p>这样我们就完成代码的编写了</p>
<p>至此我们已经学完了程序设计的几种基本结构，下面我再简单讲一下子程序。</p>
<h4 id="5-子程序！"><a href="#5-子程序！" class="headerlink" title="5. 子程序！"></a>5. 子程序！</h4><p>子程序有点像高级语言中的函数，通过子程序，我们可以把一段逻辑代码进行一个封装，执行同样的功能的时候，我们不需要重复的编写代码，只要调用子程序就行了。</p>
<p>子程序的基本结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">子程序名 PROC</span><br><span class="line"></span><br><span class="line">…</span><br><span class="line"></span><br><span class="line">…</span><br><span class="line"></span><br><span class="line">…</span><br><span class="line"></span><br><span class="line">RET ;返回</span><br><span class="line"></span><br><span class="line">子程序名 ENDP；结束子程序</span><br></pre></td></tr></table></figure>


<p>调用的话：CALL 子程序名</p>
<p>比如我们对DOS的2号功能进行封装</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_9.png" alt="img"></p>
<p>这样我们每次要显示字符的时候就不用重复的写调用指令了，直接CALL DISP就行了，就像下面这样</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_10.png" alt="img"></p>
<p>结果如下所示：</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%884%EF%BC%89/asm4_11.png" alt="img"></p>

	
	</div>
  <a type="button" href="/2021/01/28/汇编语言程序设计（4）/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/28/汇编语言程序设计（3）/" title="HelloWorld及Sum程序">汇编语言程序设计（3）</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-28  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="汇编语言程序设计（3）"><a href="#汇编语言程序设计（3）" class="headerlink" title="汇编语言程序设计（3）"></a>汇编语言程序设计（3）</h1><h2 id="第三节-基础程序设计"><a href="#第三节-基础程序设计" class="headerlink" title="第三节 基础程序设计"></a>第三节 基础程序设计</h2><h4 id="1-程序1-Hello-World"><a href="#1-程序1-Hello-World" class="headerlink" title="1. 程序1 Hello World!"></a>1. 程序1 Hello World!</h4><p>Hello World是每个程序员都必经的环节，也是通向程序设计大门的敲门砖，那么第一个程序我们就在屏幕上显示一下Hello World！吧，但在开始写代码之前，我希望你能构思一下基本的流程，还记得上一节DOS调用的9号功能吗？，其实步骤差不多的：</p>
<p>（1）我们需要在数据段定义一个变量存放Hello World！字符串</p>
<p>（2）调用DOS的9号功能显示字符串</p>
<p>这个程序还是很简单的，流程非常简单，基本的流程在脑海里已经有了，那么下一步要做的就是编写程序了。</p>
<p>第一步要做的很显然是把程序的基本框架搭好，我希望你没有忘记怎么搭建框架，如果不熟悉的话，可以返回第一节再看一下。</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_1.png" alt="img"></p>
<p>框架搭建好了之后按照安排好的流程办事</p>
<p>在数据段定义一个变量存放Hello World！</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_2.png" alt="img"></p>
<p>然后在代码段调用DOS的9号功能</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_3.png" alt="img"></p>
<p>OK！这样一个程序就写好了，我们运行一下看看</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_4.png" alt="img"></p>
<p>Hello World！显示在屏幕上了！</p>
<p>恭喜你，你顺利进入了汇编程序设计的大门。</p>
<p>不要急着高兴，我们来把刚才所做的事情总结一下，将整个过程进行一个抽象：</p>
<p>（1）我们需要用到什么数据</p>
<p>（2）我们需要调用什么功能实现</p>
<p>你只要把这两点想清楚了，整个环节就轻松多了。</p>
<h4 id="2-程序2-Sum"><a href="#2-程序2-Sum" class="headerlink" title="2. 程序2 Sum!"></a>2. 程序2 Sum!</h4><p>提前输入好字符在屏幕上显示似乎没什么意思，要是我们能输入不同的数字进行加法运算就好了。那么接下来我们来设计一个程序，从键盘输入两个数字(0-9)，最后在屏幕上显示两个数相加的结果吧！</p>
<p>首先我们要做的依然是进行流程的思考：</p>
<p>（1）在数据段设立一个输入缓冲区存放输入的数字</p>
<p>（2）调用DOS的0AH号功能输入数字</p>
<p>（3）将两个数字相加</p>
<p>（4）调用DOS的2号功能显示结果</p>
<p>你可能忘记0AH号功能怎么用了，我们来复习一下吧！</p>
<blockquote>
<p>[功能号0AH] 等待从键盘输入字符串，并保存在输入数据缓冲区，同时在屏幕显示字符串</p>
</blockquote>
<p>入口参数：DS:DX=输入数据缓冲区首地址</p>
<p>光看文字你可能不是很了解这个功能如何调用，下面通过一张图来看一下吧</p>
<p>假设我们在数据段定义的变量名称叫BUF，类型是DB</p>
<p>BUF的首地址放入我们估计会输入字符的个数，因为0AH功能以回车键作为结束标志，所以这里的个数要在估计的个数上再+1，如果你对个数不确定的话可以写多一点。</p>
<p>BUF+1的地址一般用一个？，因为在输入之前谁也不知道最后实际会输入多少个字符，所以用一个？先把位置占下来，待输入完之后，系统会自动统计输入的字符的个数，并把？替换成实际输入的字符个数，这里字符个数不包括回车。</p>
<p>而BUF+2开始的地址会存放你实际键入的字符，而在一开始的时候我们同样也不知道里面会输入什么样的字符，所以也要用？先把位置占下来，这里？的个数和BUF首地址预计输入字符的个数一致，由于一个个输？太麻烦，我们可以用一个简单的指令完成，格式如下：预计输入字符的个数 DUP(?)</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_5.png" alt="img"></p>
<p>可能你看到这边还是一头雾水，我们来实际看一下我们的这个程序怎么设置吧</p>
<p>我们思考一下，我们需要键入2个数字字符，中间用空格字符隔开，再加上最后的回车字符，所以我们一共需要4个字符的空间</p>
<p>我们来看一下数据段怎么定义的吧</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_6.png" alt="img"></p>
<p>数据段定义好了之后，我们开始代码段的编写。</p>
<p>和之前程序一样，我们调用DOS的0AH功能，把缓冲区偏移地址赋给DX寄存器</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_7.png" alt="img"></p>
<p>接下来我们就要从键盘上输入两个数字了</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_8.png" alt="img"></p>
<p>输入完按了回车之后，这时输入缓冲区BUF+2开始的地址存放着刚才输入的字符，整个输入缓冲区如下所示</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_9.png" alt="img"></p>
<p>为了显示的更美观，我们在进行数据进行相加之前，先进行换行的操作</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_10.png" alt="img"></p>
<p>换行之后，我们分别将BUF+2地址中的1和BUF+4地址中的2分别赋给AL,DL寄存器，然后进行相加放入DL寄存器中。</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_11.png" alt="img"></p>
<p>相加之后DL寄存器的内容为1的ASCII码31H加上2的ASCII码32H = 63H，而3的ASCII码很明显是33H，所以我们需要将结果减去30H</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_12.png" alt="img"></p>
<p>最后我们在调用DOS的2号功能，由于数据已经放入DL寄存器，所以只要两个指令就行了</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_13.png" alt="img"></p>
<p>这样一个程序就已经写好了，我们运行一下看看。</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%883%EF%BC%89/asm3_14.png" alt="img"></p>
<p>结果3显示了出来！</p>

	
	</div>
  <a type="button" href="/2021/01/28/汇编语言程序设计（3）/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/28/汇编语言程序设计（2）/" title="DOS调用">汇编语言程序设计（2）</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-28  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="汇编语言程序设计（2）"><a href="#汇编语言程序设计（2）" class="headerlink" title="汇编语言程序设计（2）"></a>汇编语言程序设计（2）</h1><h2 id="第二节-DOS功能调用"><a href="#第二节-DOS功能调用" class="headerlink" title="第二节 DOS功能调用"></a>第二节 DOS功能调用</h2><p>在DOS中，已经预先设计好了一些功能方便我们进行输出和输入，我们不用再额外的花费时间进行这些功能的编写，只需要通过几句简单的指令调用便可完成。而DOS的功能调用主要是以下几个步骤：</p>
<p>（1）用“MOV AH，功能号”设置你要调用哪一个功能</p>
<p>（2）在功能规定的寄存器中放入入口参数（如果没有入口参数则跳过这步）</p>
<p>（3）用INT 21H执行调用（21H是DOS的中断号，BIOS是16H）</p>
<p>（4）从功能规定的寄存器中取出出口参数（如果没有出口参数则跳过这步）</p>
<p>下面通过一个例子进行讲解</p>
<p>我们要在屏幕显示一个字符串通过DOS的9号功能</p>
<blockquote>
<p>[功能号09H] 显示字符串</p>
</blockquote>
<p>入口参数：DS:DX=字符串首地址，字符串必须以’$’为结束标志</p>
<p>出口参数：无</p>
<p>第一步要干啥呢？</p>
<p>在数据段定义一个变量，存放一个显示的字符串，这里我存放的是HELLO！，不要忘记用$结尾!!!</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%882%EF%BC%89/asm2_1.png" alt="img"></p>
<p>定义完了之后我们就可以在代码段写代码调用功能了。</p>
<p>首先将功能号送给AH寄存器</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%882%EF%BC%89/asm2_2.png" alt="img"></p>
<p>然后根据入口参数的要求，你需要将字符串的首地址送给DS（数据）段的DX寄存器，由于程序一开始已经给DS赋初值了，所以我们这边直接把字符串首地址通过OFFSET给DX寄存器就行了</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%882%EF%BC%89/asm2_3.png" alt="img"></p>
<p>接下来通过INT 21H来执行这个功能</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%882%EF%BC%89/asm2_4.png" alt="img"></p>
<p>运行一下</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%882%EF%BC%89/asm2_5.png" alt="img"></p>
<p>可以看到HELLO！显示在了屏幕上</p>
<p>怎么样？还是很简单的吧。通过这个例子，相信你学会了如何进行DOS功能的调用，下面我们即将进入真正的程序设计环节。</p>

	
	</div>
  <a type="button" href="/2021/01/28/汇编语言程序设计（2）/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/28/汇编语言程序设计（1）/" title="汇编语言程序基础介绍">汇编语言程序设计（1）</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-28  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="汇编语言程序设计（1）"><a href="#汇编语言程序设计（1）" class="headerlink" title="汇编语言程序设计（1）"></a>汇编语言程序设计（1）</h1><blockquote>
<p>提醒：不包含基本汇编指令的讲解，如果遇到不会的指令，建议翻书学习</p>
</blockquote>
<h2 id="第一节-汇编语言程序结构"><a href="#第一节-汇编语言程序结构" class="headerlink" title="第一节 汇编语言程序结构"></a>第一节 汇编语言程序结构</h2><h4 id="1-基本结构"><a href="#1-基本结构" class="headerlink" title="1. 基本结构"></a>1. 基本结构</h4><p>一个标准的汇编语言程序一般是由以下几部分构成的：</p>
<p>方式选择命令字：用来选择不同的处理器，因为不同的处理器有不同的指令系统，考试过程中当中写486或586都可以</p>
<p>数据段：存放编写程序需要用到的数据或者划分一个空间存放输入的数据</p>
<p>代码段：这里是汇编语言程序的主体部分，编写主体程序的逻辑代码都要在这里完成</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89/asm1_1.png" alt="img"></p>
<h4 id="2-段定义伪指令"><a href="#2-段定义伪指令" class="headerlink" title="2. 段定义伪指令"></a>2. 段定义伪指令</h4><p>数据段和代码段是如何定义的呢？</p>
<p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89/asm1_6.png" alt="img"></p>
<p>就要用到段定义伪指令了。它的基本框架如下：</p>
<p>段名 SEGMENT USE16</p>
<p>段名 ENDS</p>
<p>段名可以随便起，但是为了规范，数据段一般都用DATA或DATAS作为段名，代码段一般都用CODE或CODES作为段名，SEGMENT和ENDS是固定的，USE16表明的是段长度，表示该逻辑段采用16位寻址方式，所以该逻辑段最大长度允许为64K（2^16），段基址和偏移地址都为16位。段长度可以选择USE 16或者USE32，一般USE16就够用了。</p>
<h4 id="3-段约定伪指令"><a href="#3-段约定伪指令" class="headerlink" title="3. 段约定伪指令"></a>3. 段约定伪指令</h4><p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89/asm1_2.png" alt="img"></p>
<p>汇编程序怎么知道哪个逻辑段是代码段，哪个逻辑段是数据段呢？</p>
<p>就得用到段约定伪指令了。</p>
<p>你得在代码段的第一行告诉汇编程序哪个是代码段，哪个是数据段。基本框架如下：</p>
<p>ASSUME CS:代码段名，DS:数据段</p>
<blockquote>
<p>注：这里的段名要和你定义的逻辑段名一致，要不然汇编语言还是不知道哪个是代码段，哪个是数据段。</p>
</blockquote>
<h4 id="4-启动标号和汇编结束伪指令"><a href="#4-启动标号和汇编结束伪指令" class="headerlink" title="4. 启动标号和汇编结束伪指令"></a>4. 启动标号和汇编结束伪指令</h4><p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89/asm1_3.png" alt="img"></p>
<p>启动指令标号会告诉汇编程序指令从哪里开始，其实就是一个指令的开始地址，CPU会从启动标号开始的地方逐步执行指令。启动指令标号名字可以随便起，不过为了规范和便于理解，一般用BEG或START。</p>
<p>汇编结束伪指令则是告诉汇编程序，源程序已经结束了，而END后面对应的标号则是启动指令标号如果上面启动指令标号是BEG，那么这边就是END BEG。</p>
<h4 id="5-给DS寄存器赋初值"><a href="#5-给DS寄存器赋初值" class="headerlink" title="5. 给DS寄存器赋初值"></a>5. 给DS寄存器赋初值</h4><p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89/asm1_4.png" alt="img"></p>
<p>这是一个基本操作，DS寄存器是需要由程序员赋初值的，但是你不能直接给DS寄存器赋值，你需要通过一个寄存器AX来完成这项操作</p>
<p>MOV AX,数据段段名</p>
<p>MOV DS,AX</p>
<p>这一环节在启动指令标号之后完成</p>
<h4 id="6-返回DOS"><a href="#6-返回DOS" class="headerlink" title="6. 返回DOS"></a>6. 返回DOS</h4><p><img src="/2021/01/28/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%881%EF%BC%89/asm1_5.png" alt="img"></p>
<p>程序在完成预定任务之后必须返回DOS，而返回DOS的方法是使用DOS系统的4CH功能调用（如果不知道怎么调用DOS系统功能的，在稍后的环节中我会进行讲解）</p>
<p>至此，一个基本的汇编程序框架已经搭建完成，而后面要做的工作便是往这个框架里填充东西，但在讲代码编写之前，还要先讲一下DOS的功能调用，如果已经会的同学可以直接跳到第三节看程序设计部分。</p>

	
	</div>
  <a type="button" href="/2021/01/28/汇编语言程序设计（1）/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
<div class="row">
	<div class="col-md-8">
		<h3 class="title">
			<a href="/2021/01/26/数据结构-数组1/" title="数组的介绍及基本使用">数据结构-数组1</a>
		</h3>
		</div>
	<div class="col-md-4">
		<div class="date">post @ 2021-01-26  </div>
		</div>
	</div>
	


			<div class="entry">
  <div class="row">
	
	
		<h1 id="数据结构-数组-Array-–1"><a href="#数据结构-数组-Array-–1" class="headerlink" title="数据结构-数组(Array)–1"></a>数据结构-数组(Array)–1</h1><h2 id="数组基础"><a href="#数组基础" class="headerlink" title="数组基础"></a>数组基础</h2><p>数组其实是一个<strong>最基本，最简单</strong>的数据结构，数组有很多东西值得我们挖掘。</p>
<h3 id="数组的存放"><a href="#数组的存放" class="headerlink" title="数组的存放"></a>数组的存放</h3><p><strong>把数据码成一排进行存放</strong></p>
<p><img src="/2021/01/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%841/array1-1.png" alt="数组的存放"></p>
<p>这里的数据可以存放不同类型的</p>
<h3 id="数组的索引"><a href="#数组的索引" class="headerlink" title="数组的索引"></a>数组的索引</h3><p>在数组中查找存放元素需要通过一个叫索引<code>index</code>的东西进行，一般从0开始，假设数组的长度为n，那么最后一个元素的索引便是n-1。</p>
<p><img src="/2021/01/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%841/array1-2.png" alt="数组的索引"></p>
<h3 id="数组的访问"><a href="#数组的访问" class="headerlink" title="数组的访问"></a>数组的访问</h3><p>我们访问数组中的某个元素可以直接通过索引来访问，假设我们这个数组中存放的都是student类型的数据，如果我们想访问索引为2的这个student的数据，可以通过<code>students[2]</code>这样的方式进行。</p>
<p><img src="/2021/01/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%841/array1-3.png" alt="数组的访问"></p>
<h3 id="数组的使用-Java语言"><a href="#数组的使用-Java语言" class="headerlink" title="数组的使用(Java语言)"></a>数组的使用(Java语言)</h3><h4 id="数组的创建–1"><a href="#数组的创建–1" class="headerlink" title="数组的创建–1"></a>数组的创建–1</h4><p>如果我们暂时不知道数组中存放的数据是什么样的，但知道长度的话我们可以开辟一个空间，但里面的数据为空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个长度为10的数组</span></span><br><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<h4 id="遍历访问数组中的每个元素–1"><a href="#遍历访问数组中的每个元素–1" class="headerlink" title="遍历访问数组中的每个元素–1"></a>遍历访问数组中的每个元素–1</h4><p>我们可以通过循环遍历的方式添加数组中的内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.length可以获取数组的长度</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</span><br><span class="line">	arr[i] = i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="数组的创建–2"><a href="#数组的创建–2" class="headerlink" title="数组的创建–2"></a>数组的创建–2</h4><p>如果我们知道数组存放的数据内容的话，可以用另一种方式进行数组的创建</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// scores数组中存放三个元素100, 99, 66</span></span><br><span class="line"><span class="keyword">int</span>[] scores = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">100</span>, <span class="number">99</span>, <span class="number">66</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>如果我们想访问99这个元素的话</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// score = 99</span></span><br><span class="line"><span class="keyword">int</span> score = score[<span class="number">1</span>];</span><br></pre></td></tr></table></figure>


<h4 id="遍历访问数组中的每个元素–2"><a href="#遍历访问数组中的每个元素–2" class="headerlink" title="遍历访问数组中的每个元素–2"></a>遍历访问数组中的每个元素–2</h4><p>同样的，我们也可以像上面的方法一样遍历访问我们的scores数组，并将其内容输出出来。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; scores.length; i++)&#123;</span><br><span class="line">	System.out.println(scores[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Java还支持一种增强型的循环遍历方式<code>foreach</code>，循环语句更简便</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> score : scores)&#123;</span><br><span class="line">    System.out.println(score);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过以上的举例，我相信你对数组的基本知识以及Java中数组的基本使用有了一定的了解，下一篇中我们将通过Java语言封装一个我们自己的数组类。</p>

	
	</div>
  <a type="button" href="/2021/01/26/数据结构-数组1/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">

   
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/数据结构/">数据结构<span>1</span></a></li>
		
			<li><a href="/categories/汇编程序/">汇编程序<span>1</span></a></li>
		
			<li><a href="/categories/汇编语言/">汇编语言<span>3</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/数据结构/">数据结构<span>1</span></a></li>
		
			<li><a href="/tags/数组/">数组<span>1</span></a></li>
		
			<li><a href="/tags/汇编语言/">汇编语言<span>3</span></a></li>
		
			<li><a href="/tags/汇编程序/">汇编程序<span>1</span></a></li>
		
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2021/01/28/汇编语言程序设计（4）/"  title="判断、循环及子程序" ><i class="fa fa-file-o"></i>汇编语言程序设计（4）</a>
      </li>
    
      <li>
        <a href="/2021/01/28/汇编语言程序设计（3）/"  title="HelloWorld及Sum程序" ><i class="fa fa-file-o"></i>汇编语言程序设计（3）</a>
      </li>
    
      <li>
        <a href="/2021/01/28/汇编语言程序设计（2）/"  title="DOS调用" ><i class="fa fa-file-o"></i>汇编语言程序设计（2）</a>
      </li>
    
      <li>
        <a href="/2021/01/28/汇编语言程序设计（1）/"  title="汇编语言程序基础介绍" ><i class="fa fa-file-o"></i>汇编语言程序设计（1）</a>
      </li>
    
      <li>
        <a href="/2021/01/26/数据结构-数组1/"  title="数组的介绍及基本使用" ><i class="fa fa-file-o"></i>数据结构-数组1</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/ChensirJ" title="My Github account." target="_blank"]);">My Github</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
	
</div> <!-- row-fluid -->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ccfe282db451b7397caad58660802061";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2021 Chen Hao
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 




   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/"});</script></body>
   </html>
